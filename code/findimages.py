from pithy import *
from glob import glob
import pandas as pd
from shutil import copyfile
fdir = '/Users/andrewkim/Documents/TXM_inSitu/20180208_3C_210/'
sdir = '/Users/andrewkim/Documents/TXM_inSitu/20180208_3C_210/Screens/cropped/'

screens = glob(sdir+'2018*.png')
print len(screens)
cdat = pd.DataFrame.from_csv(fdir+'charges.csv') 
ddat = pd.DataFrame.from_csv(fdir+'discharges.csv')

#return first match in sequence
def find(string, seq):
    for item in seq:
        if string in item: 
            return item
        # else:
            # return 'N/A'
            
    

codes = [
    '20180208_1301',
    '20180208_1607',
    '20180208_1702',
    '20180208_1756',
    '20180208_1850',
    '20180208_2200',
    '20180208_2255',
    '20180208_2348',
    '20180209_0042',
    '20180209_0352',
    '20180209_0446',
    '20180209_0540',
    '20180209_0633',
    '20180209_0943',
    '20180209_1037',
    '20180209_1130',
    '20180209_1224',
    '20180209_1533',
    '20180209_1627',
    '20180209_1721',
    '20180209_1814',
    '20180209_2123',
    '20180209_2217',
    '20180209_2311',
    '20180210_0004',
    '20180210_0313',
    '20180210_0407',
    '20180210_0501',
    '20180210_0554',
    '20180210_0903',
    '20180210_0957',
    '20180210_1050',
    '20180210_1144',
    '20180210_1453',
    '20180210_1547',
    '20180210_1640',
    '20180210_1733',
    '20180210_2042',
    '20180210_2136',
    '20180210_2229',
    '20180210_2322',
    '20180208_1631',
    '20180208_1725',
    '20180208_1819',
    '20180208_1913',
    '20180208_2224',
    '20180208_2318',
    '20180209_0011',
    '20180209_0105',
    '20180209_0415',
    '20180209_0509',
    '20180209_0603',
    '20180209_0656',
    '20180209_1006',
    '20180209_1100',
    '20180209_1153',
    '20180209_1247',
    '20180209_1556',
    '20180209_1650',
    '20180209_1743',
    '20180209_1837',
    '20180209_2146',
    '20180209_2240',
    '20180209_2333',
    '20180210_0027',
    '20180210_0336',
    '20180210_0430',
    '20180210_0523',
    '20180210_0617',
    '20180210_0926',
    '20180210_1020',
    '20180210_1113',
    '20180210_1206',
    '20180210_1516',
    '20180210_1609',
    '20180210_1703',
    '20180210_1756',
    '20180210_2105',
    '20180210_2158',
    '20180210_2252',
    '20180210_2345',
]

for code in codes:
    try:
        fil = find(code,screens)
        suff = fil.split('/')[-1]
        print fdir+suff
        # copyfile(fil,fdir+suff)
    except:
        pass
    
    
    